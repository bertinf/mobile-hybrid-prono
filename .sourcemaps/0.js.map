{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AAUxC,IAAa,iBAAiB;IAA9B;IAAgC,CAAC;IAAD,wBAAC;AAAD,CAAC;AAApB,iBAAiB;IAR7B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6DAAW;SACZ;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;SACtC;KACF,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXsB;AACmB;AAC7B;AACe;AACjB;AACL;AAC0B;AAG7D;;;;;GAKG;AAOF,IAAa,WAAW;IAItB,qBAAoB,MAAuB,EAAU,UAA+B,EAAU,MAAc,EACnG,OAAsB,EAAS,SAAoB;QADxC,WAAM,GAAN,MAAM,CAAiB;QAAU,eAAU,GAAV,UAAU,CAAqB;QAAU,WAAM,GAAN,MAAM,CAAQ;QACnG,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAH5D,YAAO,GAAG,EAAa,CAAC;IAIxB,CAAC;IAED,mCAAa,GAAb;QAAA,iBAMC;QALC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI;YACnC,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAW,IAAI,CAAC,GAAK,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC;iBAC9D,IAAI,CAAE,cAAM,YAAI,CAAC,OAAO,CAAC,OAAO,CAAC,4DAAQ,CAAC,EAA9B,CAA8B,CAAC,CAAC;QAE/C,CAAC,CAAC;IACH,CAAC;IAIK,+BAAS,GAAf;;gBAEK,IAAI,EAQD,OAAO,UAWR,KAAK,EAEL,QAAQ;;;;wBAnBd,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI;4BAClC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;wBAElB,CAAC,CAAC;;;;kCAG8B;4BAC9B,OAAO,EAAE,EAAE;4BACX,YAAY,EAAE,GAAG;4BACjB,WAAW,EAAE,GAAG;4BAChB,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;4BACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;4BAC3C,SAAS,EAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;yBAC1C;wBAEc,qBAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;;iCAArC,SAAqC;gCAEtC,4BAA0B,MAAQ;mCAE/B,yDAAO,EAAE,CAAC,GAAG,CAAC,aAAW,IAAM,CAAC;wBACjD,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;;;;wBAGtC,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC;;;;;;KAGpB;IAED,oCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;IAC5C,CAAC;IAED,kBAAC;AAAD,CAAC;AAtDa,WAAW;IAJvB,wEAAS,CAAC;QACV,QAAQ,EAAE,cAAc;OACG;KAC5B,CAAC;gJAK6G;QAC1F,QAA0C;AAiD9D;SAtDa,WAAW,e","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Profile } from '../../models/profile'\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase } from 'angularfire2/database-deprecated';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { TabsPage } from '../tabs/tabs';\nimport { storage } from 'firebase';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n\n\n/**\n * Generated class for the ProfilePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n @IonicPage()\n @Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\n export class ProfilePage {\n\n   profile = {} as Profile;\n\n   constructor(private afAuth: AngularFireAuth, private afDatabase: AngularFireDatabase, private camera: Camera,\n     public navCtrl: NavController, public navParams: NavParams) {\n   }\n\n   createProfile() {\n     this.afAuth.authState.subscribe(auth => {\n      this.afDatabase.object(`profile/${auth.uid}`).set(this.profile)\n      .then( () => this.navCtrl.setRoot(TabsPage));\n\n    })\n   }\n\n   \n\n   async takePhoto() {\n\n    let myId: string;\n\n    this.afAuth.authState.subscribe(auth => {\n      myId = auth.uid;\n\n    })\n\n    try { \n     const options: CameraOptions = {\n      quality: 50,\n      targetHeight: 600,\n      targetWidth: 600,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType : this.camera.MediaType.PICTURE \n    }\n\n    const result = await this.camera.getPicture(options)\n\n    const image = `data:image/jpeg;base64,${result}`;\n\n    const pictures = storage().ref(`picture/${myId}`); \n    pictures.putString(image, 'data_url');\n\n  } catch (e) {\n    console.error(e);\n  }\n\n}\n\nionViewDidLoad() {\n  console.log('ionViewDidLoad ProfilePage');\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}